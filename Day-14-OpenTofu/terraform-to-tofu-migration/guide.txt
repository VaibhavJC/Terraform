**Migration process overview**
The migration process is designed to be safe and reversible:

1.Back up your infrastructure state and code
2.Install OpenTofu
3.Initialize and verify your configuration
4.Test with a small change

**Prerequisites**
An existing Terraform configuration
Access to your Terraform state files
Ability to run both terraform and tofu commands during the migration

Step 1: Back up your infrastructure
Before starting the migration, create backups of:

1. Your Terraform state files

    For local state: Copy your terraform.tfstate and terraform.tfstate_backup files
    For remote state: Follow your backend's backup procedures (e.g., S3 versioning, snapshot your state bucket)

2. Your Terraform configuration files

    Commit all changes to version control
    Consider creating a migration branch

Step 2: Install OpenTofu
    Follow the installation guide to install OpenTofu on your system. Verify the installation:

    tofu --version

Step 3: Initialize OpenTofu
    In your Terraform project directory, initialize OpenTofu:

    tofu init

This command will:
    Download required providers from the OpenTofu registry
    Initialize your backend configuration
    Prepare your working directory

Step 4: Verify your configuration
    Run a plan to ensure OpenTofu can read your state and configuration:

    tofu plan

    Expected result: You should see "No changes" or the same plan output you would see with Terraform.

If you see unexpected changes:

    Do not apply the changes
    Investigate the differences
    Consider rolling back (see below)

Step 5: Apply with OpenTofu
    Once you've verified the plan shows no unexpected changes, run:

    tofu apply

    Even if there are no infrastructure changes, this ensures OpenTofu updates the state file format if needed.

Step 6: Test with a small change
    Make a small, non-critical change to your configuration (e.g., add a tag to a resource) and run:

    tofu plan
    tofu apply

This verifies that OpenTofu can successfully manage your infrastructure going forward.

** Rolling back to Terraform **

    If you encounter issues during migration, you can safely roll back:

    Stop using OpenTofu immediately
    Restore from your backups (if any state changes were made)

    Run Terraform commands:
    terraform init
    terraform plan

    Verify no unexpected changes appear in the plan
    Continue using Terraform as before